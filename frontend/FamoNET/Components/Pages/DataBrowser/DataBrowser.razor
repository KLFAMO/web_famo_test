@page "/browser"
@rendermode InteractiveServer


@* <button class="btn btn-primary" onclick="@(()=>LoadCSVData())">Load CSV</button> *@
<div class="row mb-2">
    <div class="col-4">
        <DataFetchWizard @ref="DataFetchWizardComponent" FetchRequested="OnFetchRequested" />
    </div>
    
    <div class="col-8" style="visibility: @(IsDataLoaded ? "visible" : "collapse")">
        <ChartWizard ChartParametersUpdated="@OnChartParametersUpdate" @ref="ChartWizardComponent" />
    </div>
    <div class="row-cols-8">
        <button type="button" class="btn btn-primary my-2" onclick="@(()=> ClearChart())">Clear</button>
        <button type="button" class="btn btn-primary my-2" onclick="@(()=> ToggleXLabels())">MJD/Date</button>
    </div>      
</div>


<div chartContainer class="my-4">
    @if(IsFetchingData)
    {
        <div class="d-flex justify-content-center">
            <div class="spinner-border" role="status">
                <span class="visually-hidden"></span>
            </div>
        </div>
    }    
    else if (!IsDataLoaded)
    {
        <div class="d-flex justify-content-center">
            <h1>No data</h1>
        </div>
    }
    
    <div id="chartElement" style="width: 100%; height: 500px"></div>
</div>

<div>
    <PythonConsole QueryExecuted="OnPythonConsoleExecute" @ref="PythonConsoleComponent" />
</div>

